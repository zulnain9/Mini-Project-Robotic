L1 = 65; % Length for joint1
L2 = 80;  %Length for joint2
L3 = 70; % length for joint3 

%Set up DH parameter for the robot
L(1) = Link([0 0 L1 0 0]); % L = Link([Theta d a alpha 0/1]) >> 0 for revolute and 1 for prismatic
L(2) = Link([0 0 L2 0 0]);
L(3) = Link([0 0 L3 0 0]);
Rob = SerialLink([L(1) L(2) L(3)], 'name','RRR'); %name the robot RRR


%Transformation Matrix
%Z
T0=transl(22,90,0);
T1=transl(29,95,0);
T2=transl(40,100,0);
T3=transl(47,105,0);
T4=transl(54,107,0);
T5=transl(64,106,0);
T6=transl(70,103,0);
T7=transl(69,100,0);
T8=transl(69,98,0);
T9=transl(66,95,0);
T10=transl(63,91,0);
T11=transl(59,89,0);
T12=transl(53,85,0);
T13=transl(51,84,0);
T14=transl(49,82,0);
T15=transl(41,78,0);
T16=transl(35,71,0);
T17=transl(44,74,0);
T18=transl(52,75,0);
T19=transl(58,72,0);
T20=transl(60,69,0);
T21=transl(57,60,0);
T22=transl(56,66,0);
T23=transl(54,49,0);
T24=transl(45,42,0);
T25=transl(40,39,0);
T26=transl(30,33,0);
T27=transl(24,31,0);
T28=transl(25,36,0);
T29=transl(29,46,0);
T30=transl(38,53,0);
T31=transl(41,54,0);
T32=transl(50,62,0);
T33=transl(66,70,0);
%U
T34=transl(76,106,0);
T35=transl(93,111,0);
T36=transl(102,113,0);
T37=transl(105,108,0);
T38=transl(100,100,0);
T39=transl(94,97,0);
T40=transl(91,91,0);
T41=transl(84,87,0);
T42=transl(78,75,0);
T43=transl(81,76,0);
T44=transl(76,68,0);
T45=transl(79,67,0);
T46=transl(90,66,0);
T47=transl(95,71,0);
T48=transl(102,79,0);
T49=transl(107,83,0);
T50=transl(113,91,0);
T51=transl(115,94,0);
T52=transl(122,100,0);
T53=transl(127,106,0);
T54=transl(126,99,0);
T55=transl(120,90,0);
T56=transl(117,87,0);
T57=transl(114,81,0);
T58=transl(112,78,0);
T59=transl(108,70,0);
T60=transl(108,65,0);
T61=transl(111,60,0);
T62=transl(116,61,0);
T63=transl(120,63,0);
T64=transl(122,65,0);
T65=transl(127,69,0);
T66=transl(129,72,0);
%L
T67=transl(172,84,0);
T68=transl(176,94,0);
T69=transl(183,108,0);
T70=transl(185,113,0);
T71=transl(180,114,0);
T72=transl(174,110,0);
T73=transl(170,106,0);
T74=transl(167,103,0);
T75=transl(162,97,0);
T76=transl(160,92,0);
T77=transl(153,84,0);
T78=transl(149,77,0);
T79=transl(147,74,0);
T80=transl(144,69,0);
T81=transl(138,64,0);
T82=transl(135,63,0);
T83=transl(126,60,0);
T84=transl(131,66,0);
T85=transl(143,69,0);
T86=transl(151,68,0);
T87=transl(168,63,0);
T88=transl(172,61,0);
T89=transl(174,59,0);
T90=transl(176,59,0);


%Inverse Kinematic
P0=[0 0 0]; % Initial Coordinate of Robot 
P1 = Rob.ikine(T0,P0,[1,1,1,0,0,0]);
P2 = Rob.ikine(T1,P1,[1,1,1,0,0,0]);
P3 = Rob.ikine(T2,P2,[1,1,1,0,0,0]);
P4 = Rob.ikine(T3,P3,[1,1,1,0,0,0]);
P5 = Rob.ikine(T4,P4,[1,1,1,0,0,0]);
P6 = Rob.ikine(T5,P5,[1,1,1,0,0,0]);
P7 = Rob.ikine(T6,P6,[1,1,1,0,0,0]);
P8 = Rob.ikine(T7,P7,[1,1,1,0,0,0]);
P9 = Rob.ikine(T8,P8,[1,1,1,0,0,0]);
P10 = Rob.ikine(T9,P9,[1,1,1,0,0,0]);
P11 = Rob.ikine(T10,P10,[1,1,1,0,0,0]);
P12 = Rob.ikine(T11,P11,[1,1,1,0,0,0]);
P13 = Rob.ikine(T12,P12,[1,1,1,0,0,0]);
P14 = Rob.ikine(T13,P13,[1,1,1,0,0,0]);
P15 = Rob.ikine(T14,P14,[1,1,1,0,0,0]);
P16 = Rob.ikine(T15,P15,[1,1,1,0,0,0]);
P17 = Rob.ikine(T16,P16,[1,1,1,0,0,0]);
P18 = Rob.ikine(T17,P17,[1,1,1,0,0,0]);
P19 = Rob.ikine(T18,P18,[1,1,1,0,0,0]);
P20 = Rob.ikine(T19,P19,[1,1,1,0,0,0]);
P21 = Rob.ikine(T20,P20,[1,1,1,0,0,0]);
P22 = Rob.ikine(T21,P21,[1,1,1,0,0,0]);
P23 = Rob.ikine(T22,P22,[1,1,1,0,0,0]);
P24 = Rob.ikine(T23,P23,[1,1,1,0,0,0]);
P25 = Rob.ikine(T24,P24,[1,1,1,0,0,0]);
P26 = Rob.ikine(T25,P25,[1,1,1,0,0,0]);
P27 = Rob.ikine(T26,P26,[1,1,1,0,0,0]);
P28 = Rob.ikine(T27,P27,[1,1,1,0,0,0]);
P29 = Rob.ikine(T28,P28,[1,1,1,0,0,0]);
P30 = Rob.ikine(T29,P29,[1,1,1,0,0,0]);
P31 = Rob.ikine(T30,P30,[1,1,1,0,0,0]);
P32 = Rob.ikine(T31,P31,[1,1,1,0,0,0]);
P33 = Rob.ikine(T32,P32,[1,1,1,0,0,0]);
P34 = Rob.ikine(T33,P33,[1,1,1,0,0,0]);
P35 = Rob.ikine(T34,P34,[1,1,1,0,0,0]);
P36 = Rob.ikine(T35,P35,[1,1,1,0,0,0]);
P37 = Rob.ikine(T36,P36,[1,1,1,0,0,0]);
P38 = Rob.ikine(T37,P37,[1,1,1,0,0,0]);
P39 = Rob.ikine(T38,P38,[1,1,1,0,0,0]);
P40 = Rob.ikine(T39,P39,[1,1,1,0,0,0]);
P41 = Rob.ikine(T40,P40,[1,1,1,0,0,0]);
P42 = Rob.ikine(T41,P41,[1,1,1,0,0,0]);
P43 = Rob.ikine(T42,P42,[1,1,1,0,0,0]);
P44 = Rob.ikine(T43,P43,[1,1,1,0,0,0]);
P45 = Rob.ikine(T44,P44,[1,1,1,0,0,0]);
P46 = Rob.ikine(T45,P45,[1,1,1,0,0,0]);
P47 = Rob.ikine(T46,P46,[1,1,1,0,0,0]);
P48 = Rob.ikine(T47,P47,[1,1,1,0,0,0]);
P49 = Rob.ikine(T48,P48,[1,1,1,0,0,0]);
P50 = Rob.ikine(T49,P49,[1,1,1,0,0,0]);
P51 = Rob.ikine(T50,P50,[1,1,1,0,0,0]);
P52 = Rob.ikine(T51,P51,[1,1,1,0,0,0]);
P53 = Rob.ikine(T52,P52,[1,1,1,0,0,0]);
P54 = Rob.ikine(T53,P53,[1,1,1,0,0,0]);
P55 = Rob.ikine(T54,P54,[1,1,1,0,0,0]);
P56 = Rob.ikine(T55,P55,[1,1,1,0,0,0]);
P57 = Rob.ikine(T56,P56,[1,1,1,0,0,0]);
P58 = Rob.ikine(T57,P57,[1,1,1,0,0,0]);
P59 = Rob.ikine(T58,P58,[1,1,1,0,0,0]);
P60 = Rob.ikine(T59,P59,[1,1,1,0,0,0]);
P61 = Rob.ikine(T60,P60,[1,1,1,0,0,0]);
P62 = Rob.ikine(T61,P61,[1,1,1,0,0,0]);
P63 = Rob.ikine(T62,P62,[1,1,1,0,0,0]);
P64 = Rob.ikine(T63,P63,[1,1,1,0,0,0]);
P65 = Rob.ikine(T64,P64,[1,1,1,0,0,0]);
P66 = Rob.ikine(T65,P65,[1,1,1,0,0,0]);
P67 = Rob.ikine(T66,P66,[1,1,1,0,0,0]);
P68 = Rob.ikine(T67,P67,[1,1,1,0,0,0]);
P69 = Rob.ikine(T68,P68,[1,1,1,0,0,0]);
P70 = Rob.ikine(T69,P69,[1,1,1,0,0,0]);
P71 = Rob.ikine(T70,P70,[1,1,1,0,0,0]);
P72 = Rob.ikine(T71,P71,[1,1,1,0,0,0]);
P73 = Rob.ikine(T72,P72,[1,1,1,0,0,0]);
P74 = Rob.ikine(T73,P73,[1,1,1,0,0,0]);
P75 = Rob.ikine(T74,P74,[1,1,1,0,0,0]);
P76 = Rob.ikine(T75,P75,[1,1,1,0,0,0]);
P77 = Rob.ikine(T76,P76,[1,1,1,0,0,0]);
P78 = Rob.ikine(T77,P77,[1,1,1,0,0,0]);
P79 = Rob.ikine(T78,P78,[1,1,1,0,0,0]);
P80 = Rob.ikine(T79,P79,[1,1,1,0,0,0]);
P81 = Rob.ikine(T80,P80,[1,1,1,0,0,0]);
P82 = Rob.ikine(T81,P81,[1,1,1,0,0,0]);
P83 = Rob.ikine(T82,P82,[1,1,1,0,0,0]);
P84 = Rob.ikine(T83,P83,[1,1,1,0,0,0]);
P85 = Rob.ikine(T84,P84,[1,1,1,0,0,0]);
P86 = Rob.ikine(T85,P85,[1,1,1,0,0,0]);
P87 = Rob.ikine(T86,P86,[1,1,1,0,0,0]);
P88 = Rob.ikine(T87,P87,[1,1,1,0,0,0]);
P89 = Rob.ikine(T88,P88,[1,1,1,0,0,0]);
P90 = Rob.ikine(T89,P89,[1,1,1,0,0,0]);
P91 = Rob.ikine(T90,P90,[1,1,1,0,0,0]);

%Create trajectory path for the robot
trajectory = [
22	90	0;
29	95	0;
40	100	0;
47	105	0;
54	107	0;
64	106	0;
70	103	0;
69	100	0;
69	98	0;
66	95	0;
63	91	0;
59	89	0;
53	85	0;
51	84	0;
49	82	0;
41	78	0;
35	71	0;
44	74	0;
52	75	0;
58	72	0;
60	69	0;
57	60	0;
56	66	0;
54	49	0;
45	42	0;
40	39	0;
30	33	0;
24	31	0;
25	36	0;
29	46	0;
38	53	0;
41	54	0;
50	62	0;
66	70	0;
76	106	0;
93	111	0;
102	113	0;
105	108	0;
100	100	0;
94	97	0;
91	91	0;
84	87	0;
78	75	0;
81	76	0;
76	68	0;
79	67	0;
90	66	0;
95	71	0;
102	79	0;
107	83	0;
113	91	0;
115	94	0;
122	100	0;
127	106	0;
126	99	0;
120	90	0;
117	87	0;
114	81	0;
112	78	0;
108	70	0;
108	65	0;
111	60	0;
116	61	0;
120	63	0;
122	65	0;
127	69	0;
129	72	0;
172	84	0;
176	94	0;
180	103	0;
183	108	0;
185	113	0;
180	114	0;
174	110	0;
170	106	0;
167	103	0;
162	97	0;
160	92	0;
153	84	0;
149	77	0;
147	74	0;
144	69	0;
138	64	0;
135	63	0;
126	60	0;
131	66	0;
143	69	0;
151	68	0;
168	63	0;
172	61	0;
174	59	0;
176	59	0;
176	59	0;
];

[nx,ny] = size(trajectory);

%plotting the coordinate
figure
hold on

for i = 1:nx-1
    v=[trajectory(i,:);trajectory(i+1,:)];
    plot3(v(:,1),v(:,2),v(:,3),'g');
    plot3(v(:,1),v(:,2),v(:,3),'g.')
end

axis([-50 200 -50 200 -50 200]);
xlabel('X-Axis');
ylabel('Y-Axis');
zlabel('Z-Axis');

view(0,90);

t=[0:3:3];
%Animate
A1 = jtraj(P0,P1,t); 
Rob.plot(A1,'workspace',[-50 200 -50 200 -50 200]);
A2 = jtraj(P1,P2,t); 
Rob.plot(A2,'workspace',[-50 200 -50 200 -50 200]);
A3 = jtraj(P2,P3,t); 
Rob.plot(A3,'workspace',[-50 200 -50 200 -50 200]);
A4 = jtraj(P3,P4,t); 
Rob.plot(A4,'workspace',[-50 200 -50 200 -50 200]);
A5 = jtraj(P4,P5,t); 
Rob.plot(A5,'workspace',[-50 200 -50 200 -50 200]);
A6 = jtraj(P5,P6,t); 
Rob.plot(A6,'workspace',[-50 200 -50 200 -50 200]);
A7 = jtraj(P6,P7,t); 
Rob.plot(A7,'workspace',[-50 200 -50 200 -50 200]);
A8 = jtraj(P7,P8,t); 
Rob.plot(A8,'workspace',[-50 200 -50 200 -50 200]);
A9 = jtraj(P8,P9,t); 
Rob.plot(A9, 'workspace',[-50 200 -50 200 -50 200]);
A10 = jtraj(P9,P10,t); 
Rob.plot(A10, 'workspace',[-50 200 -50 200 -50 200]);
A11 = jtraj(P10,P11,t); 
Rob.plot(A11, 'workspace',[-50 200 -50 200 -50 200]);
A12 = jtraj(P11,P12,t); 
Rob.plot(A12, 'workspace',[-50 200 -50 200 -50 200]);
A13 = jtraj(P12,P13,t); 
Rob.plot(A13, 'workspace',[-50 200 -50 200 -50 200]);
A14 = jtraj(P13,P14,t); 
Rob.plot(A14, 'workspace',[-50 200 -50 200 -50 200]);
A15 = jtraj(P14,P15,t); 
Rob.plot(A15, 'workspace',[-50 200 -50 200 -50 200]);
A16 = jtraj(P15,P16,t); 
Rob.plot(A16, 'workspace',[-50 200 -50 200 -50 200]);
A17 = jtraj(P16,P17,t); 
Rob.plot(A17, 'workspace',[-50 200 -50 200 -50 200]);
A18 = jtraj(P17,P18,t); 
Rob.plot(A18, 'workspace',[-50 200 -50 200 -50 200]);
A19 = jtraj(P18,P19,t); 
Rob.plot(A19, 'workspace',[-50 200 -50 200 -50 200]);
A20 = jtraj(P19,P20,t); 
Rob.plot(A20, 'workspace',[-50 200 -50 200 -50 200]);
A21 = jtraj(P20,P21,t); 
Rob.plot(A21, 'workspace',[-50 200 -50 200 -50 200]);
A22 = jtraj(P21,P22,t); 
Rob.plot(A22, 'workspace',[-50 200 -50 200 -50 200]);
A23 = jtraj(P22,P23,t); 
Rob.plot(A23, 'workspace',[-50 200 -50 200 -50 200]);
A24 = jtraj(P23,P24,t); 
Rob.plot(A24, 'workspace',[-50 200 -50 200 -50 200]);
A25 = jtraj(P24,P25,t); 
Rob.plot(A25, 'workspace',[-50 200 -50 200 -50 200]);
A26 = jtraj(P25,P26,t); 
Rob.plot(A26, 'workspace',[-50 200 -50 200 -50 200]);
A27 = jtraj(P26,P27,t); 
Rob.plot(A27, 'workspace',[-50 200 -50 200 -50 200]);
A28 = jtraj(P27,P28,t); 
Rob.plot(A28, 'workspace',[-50 200 -50 200 -50 200]);
A29 = jtraj(P28,P29,t); 
Rob.plot(A29, 'workspace',[-50 200 -50 200 -50 200]);
A30 = jtraj(P29,P30,t); 
Rob.plot(A30, 'workspace',[-50 200 -50 200 -50 200]);
A31 = jtraj(P30,P31,t); 
Rob.plot(A31, 'workspace',[-50 200 -50 200 -50 200]);
A32 = jtraj(P31,P32,t); 
Rob.plot(A32, 'workspace',[-50 200 -50 200 -50 200]);
A33 = jtraj(P32,P33,t); 
Rob.plot(A33, 'workspace',[-50 200 -50 200 -50 200]);
A34 = jtraj(P33,P34,t); 
Rob.plot(A34, 'workspace',[-50 200 -50 200 -50 200]);
A35 = jtraj(P34,P35,t); 
Rob.plot(A35, 'workspace',[-50 200 -50 200 -50 200]);
A36 = jtraj(P35,P36,t); 
Rob.plot(A36, 'workspace',[-50 200 -50 200 -50 200]);
A37 = jtraj(P36,P37,t); 
Rob.plot(A37, 'workspace',[-50 200 -50 200 -50 200]);
A38 = jtraj(P37,P38,t); 
Rob.plot(A38, 'workspace',[-50 200 -50 200 -50 200]);
A39 = jtraj(P38,P39,t); 
Rob.plot(A39, 'workspace',[-50 200 -50 200 -50 200]);
A40 = jtraj(P39,P40,t); 
Rob.plot(A39, 'workspace',[-50 200 -50 200 -50 200]);
A41 = jtraj(P40,P41,t); 
Rob.plot(A41, 'workspace',[-50 200 -50 200 -50 200]);
A42 = jtraj(P41,P42,t); 
Rob.plot(A42, 'workspace',[-50 200 -50 200 -50 200]);
A43 = jtraj(P42,P43,t); 
Rob.plot(A43, 'workspace',[-50 200 -50 200 -50 200]);
A44 = jtraj(P43,P44,t); 
Rob.plot(A44, 'workspace',[-50 200 -50 200 -50 200]);
A45 = jtraj(P44,P45,t); 
Rob.plot(A45, 'workspace',[-50 200 -50 200 -50 200]);
A46 = jtraj(P45,P46,t); 
Rob.plot(A46, 'workspace',[-50 200 -50 200 -50 200]);
A47 = jtraj(P46,P47,t); 
Rob.plot(A47, 'workspace',[-50 200 -50 200 -50 200]);
A48 = jtraj(P47,P48,t); 
Rob.plot(A48, 'workspace',[-50 200 -50 200 -50 200]);
A49 = jtraj(P48,P49,t); 
Rob.plot(A49, 'workspace',[-50 200 -50 200 -50 200]);
A50 = jtraj(P49,P50,t); 
Rob.plot(A50, 'workspace',[-50 200 -50 200 -50 200]);
A51 = jtraj(P50,P51,t); 
Rob.plot(A51, 'workspace',[-50 200 -50 200 -50 200]);
A52 = jtraj(P51,P52,t); 
Rob.plot(A52, 'workspace',[-50 200 -50 200 -50 200]);
A53 = jtraj(P52,P53,t); 
Rob.plot(A53, 'workspace',[-50 200 -50 200 -50 200]);
A54 = jtraj(P53,P54,t); 
Rob.plot(A54, 'workspace',[-50 200 -50 200 -50 200]);
A55 = jtraj(P54,P55,t); 
Rob.plot(A55, 'workspace',[-50 200 -50 200 -50 200]);
A56 = jtraj(P55,P56,t); 
Rob.plot(A56, 'workspace',[-50 200 -50 200 -50 200]);
A57 = jtraj(P56,P57,t); 
Rob.plot(A57, 'workspace',[-50 200 -50 200 -50 200]);
A58 = jtraj(P57,P58,t); 
Rob.plot(A58, 'workspace',[-50 200 -50 200 -50 200]);
A59 = jtraj(P58,P59,t); 
Rob.plot(A59, 'workspace',[-50 200 -50 200 -50 200]);
A60 = jtraj(P59,P60,t); 
Rob.plot(A60, 'workspace',[-50 200 -50 200 -50 200]);
A61 = jtraj(P60,P61,t); 
Rob.plot(A61, 'workspace',[-50 200 -50 200 -50 200]);
A62 = jtraj(P61,P62,t); 
Rob.plot(A62, 'workspace',[-50 200 -50 200 -50 200]);
A63 = jtraj(P62,P63,t); 
Rob.plot(A63, 'workspace',[-50 200 -50 200 -50 200]);
A64 = jtraj(P63,P64,t); 
Rob.plot(A64, 'workspace',[-50 200 -50 200 -50 200]);
A65 = jtraj(P64,P65,t); 
Rob.plot(A65, 'workspace',[-50 200 -50 200 -50 200]);
A66 = jtraj(P65,P66,t); 
Rob.plot(A66, 'workspace',[-50 200 -50 200 -50 200]);
A67 = jtraj(P66,P67,t); 
Rob.plot(A67, 'workspace',[-50 200 -50 200 -50 200]);
A68 = jtraj(P67,P68,t); 
Rob.plot(A68, 'workspace',[-50 200 -50 200 -50 200]);
A69 = jtraj(P68,P69,t); 
Rob.plot(A69, 'workspace',[-50 200 -50 200 -50 200]);
A70 = jtraj(P69,P70,t); 
Rob.plot(A70, 'workspace',[-50 200 -50 200 -50 200]);
A71 = jtraj(P70,P71,t); 
Rob.plot(A71, 'workspace',[-50 200 -50 200 -50 200]);
A72 = jtraj(P71,P72,t); 
Rob.plot(A72, 'workspace',[-50 200 -50 200 -50 200]);
A73 = jtraj(P72,P73,t); 
Rob.plot(A73, 'workspace',[-50 200 -50 200 -50 200]);
A74 = jtraj(P73,P74,t); 
Rob.plot(A74, 'workspace',[-50 200 -50 200 -50 200]);
A75 = jtraj(P74,P75,t); 
Rob.plot(A75, 'workspace',[-50 200 -50 200 -50 200]);
A76 = jtraj(P75,P76,t); 
Rob.plot(A76, 'workspace',[-50 200 -50 200 -50 200]);
A77 = jtraj(P76,P77,t); 
Rob.plot(A77, 'workspace',[-50 200 -50 200 -50 200]);
A78 = jtraj(P77,P78,t); 
Rob.plot(A78, 'workspace',[-50 200 -50 200 -50 200]);
A79 = jtraj(P78,P79,t); 
Rob.plot(A79, 'workspace',[-50 200 -50 200 -50 200]);
A80 = jtraj(P79,P80,t); 
Rob.plot(A80, 'workspace',[-50 200 -50 200 -50 200]);
A81 = jtraj(P80,P81,t); 
Rob.plot(A81, 'workspace',[-50 200 -50 200 -50 200]);
A82 = jtraj(P81,P82,t); 
Rob.plot(A82, 'workspace',[-50 200 -50 200 -50 200]);
A83 = jtraj(P82,P83,t); 
Rob.plot(A83, 'workspace',[-50 200 -50 200 -50 200]);
A84 = jtraj(P83,P84,t); 
Rob.plot(A84, 'workspace',[-50 200 -50 200 -50 200]);
A85 = jtraj(P84,P85,t); 
Rob.plot(A85, 'workspace',[-50 200 -50 200 -50 200]);
A86 = jtraj(P85,P86,t); 
Rob.plot(A86, 'workspace',[-50 200 -50 200 -50 200]);
A87 = jtraj(P86,P87,t); 
Rob.plot(A87, 'workspace',[-50 200 -50 200 -50 200]);
A88 = jtraj(P87,P88,t); 
Rob.plot(A88, 'workspace',[-50 200 -50 200 -50 200]);
A89 = jtraj(P88,P89,t); 
Rob.plot(A89, 'workspace',[-50 200 -50 200 -50 200]);
A90 = jtraj(P89,P90,t); 
Rob.plot(A90, 'workspace',[-50 200 -50 200 -50 200]);
A91 = jtraj(P90,P91,t); 
Rob.plot(A91, 'workspace',[-50 200 -50 200 -50 200]);
